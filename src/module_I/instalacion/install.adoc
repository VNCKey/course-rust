= ü¶Ä Instalaci√≥n de Rust
:source-highlighter: rouge
:rouge-style: monokai
:icons: font
:toc: left
:toclevels: 3
:toc-title: Contenido
:sectnums:
:experimental:

== Introducci√≥n

Rust se instala mediante *rustup*, el instalador oficial que gestiona versiones del compilador, toolchains y herramientas asociadas. Este proceso es pr√°cticamente id√©ntico en todos los sistemas operativos.

IMPORTANT: Antes de comenzar, aseg√∫rate de tener una conexi√≥n a internet estable, ya que `rustup` descargar√° los componentes necesarios.

'''

== Instalaci√≥n en Linux y macOS

=== Requisitos previos

[cols="1,3", options="header"]
|===
|Sistema
|Requisitos

|Linux
|`curl`, `gcc` o `clang`, `make`

|macOS
|Xcode Command Line Tools
|===

NOTE: En la mayor√≠a de distribuciones Linux modernas, estos paquetes ya est√°n instalados.

=== Proceso de instalaci√≥n

. Abre una terminal.

. Ejecuta el siguiente comando para descargar e iniciar el instalador de Rust:
+
[source,bash]
----
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
----
+
Este comando descarga el instalador de *rustup*, que configurar√°:
+
* El compilador Rust (`rustc`)
* El gestor de paquetes (`cargo`)
* La documentaci√≥n est√°ndar
* Las herramientas de desarrollo

. Durante el proceso, se te preguntar√° si deseas continuar con la instalaci√≥n por defecto o personalizarla.
+
TIP: La opci√≥n recomendada es presionar kbd:[Enter] para aceptar la configuraci√≥n est√°ndar.
+
Ver√°s un mensaje similar a este:
+
.Output de instalaci√≥n exitosa
[source,text]
----
Rust is installed now. Great!

To get started you may need to restart your current shell.
This would reload your PATH environment variable to include
Cargo's bin directory ($HOME/.cargo/bin).

To configure your current shell, you need to source
the corresponding env file under $HOME/.cargo.
----

. Reinicia tu terminal o ejecuta:
+
[source,bash]
----
source $HOME/.cargo/env
----

'''

== Instalaci√≥n en Windows

WARNING: Rust en Windows requiere el compilador MSVC de Microsoft para generar archivos ejecutables (`.exe`). Debes instalar Visual Studio Build Tools antes de instalar Rust.

=== Paso 1: Instalar Visual Studio Build Tools

==== Descargar Visual Studio

Accede a la p√°gina oficial:

https://visualstudio.microsoft.com/es/downloads/

==== Componentes requeridos

Rust necesita el workload *"Desarrollo para escritorio con C++"* (_Desktop Development with C++_).

.Opciones de instalaci√≥n
[cols="1,2,1", options="header"]
|===
|Tipo
|Componentes
|Tama√±o aproximado

|*Completa* +
(Recomendada)
|Workload completo de C++
|~6-8 GB

|*Minimalista*
|Solo componentes esenciales
|~2-3 GB
|===

==== Instalaci√≥n minimalista

Si no planeas desarrollar en C++ y quieres instalar solo lo indispensable:

. Ve a la pesta√±a *"Componentes individuales"*
. Selecciona √∫nicamente:
+
* [x] `MSVC v143 ‚Äì VS 2022 C++ x64/x86 build tools` _(Latest)_
* [x] `Windows 11 SDK (10.0.22621.0)` _(o superior)_

. Haz clic en btn:[Instalar] y espera a que finalice.

NOTE: La versi√≥n exacta del SDK no afecta al c√≥digo puro de Rust. Sin embargo, si trabajas con FFI o bindings de C++, puede que necesites una versi√≥n espec√≠fica.

=== Paso 2: Descargar Rust

Accede a la p√°gina oficial:

https://www.rust-lang.org/tools/install

Aqu√≠ encontrar√°s tres instaladores seg√∫n la arquitectura de tu sistema:

[cols="1,2", options="header"]
|===
|Arquitectura
|Instalador

|32 bits (x86)
|`rustup-init.exe` (32-bit)

|64 bits (x64) +
*M√°s com√∫n*
|`rustup-init.exe` (64-bit)

|ARM64 +
_Surface Pro X, etc._
|`rustup-init.exe` (ARM64)
|===

TIP: Si no est√°s seguro de tu arquitectura, probablemente sea *64 bits (x64)*. Puedes verificarlo en: +
kbd:[Win] + kbd:[Pause/Break] ‚Üí Tipo de sistema.

=== Paso 3: Ejecutar el instalador

. Ejecuta el archivo `rustup-init.exe` descargado.

. Aparecer√° un men√∫ en la consola:
+
.Men√∫ de instalaci√≥n
[source,text,highlight=1]
----
1) Proceed with standard installation (default - just press enter)
2) Customize installation
3) Cancel installation
>
----

. Presiona kbd:[Enter] para la instalaci√≥n est√°ndar.

. El instalador descargar√° y configurar√° Rust. Ver√°s un output similar a:
+
.Progreso de instalaci√≥n
[source,text]
----
info: downloading installer
info: syncing channel updates for 'stable-x86_64-pc-windows-msvc'
info: latest update on 2025-08-04, rust version 1.89.0
info: downloading component 'cargo'
info: downloading component 'rustc'
info: installing component 'cargo'
info: installing component 'rustc'

  stable-x86_64-pc-windows-msvc installed - rustc 1.89.0

Rust is installed now. Great!
----

. *Reinicia tu terminal* (PowerShell, CMD o Windows Terminal) para que los cambios surtan efecto.

IMPORTANT: En Windows es *necesario* cerrar y volver a abrir la terminal. Los comandos `rustc`, `cargo` y `rustup` no funcionar√°n hasta que lo hagas.

'''

== Verificaci√≥n de la Instalaci√≥n

Una vez completada la instalaci√≥n en cualquier sistema operativo, verifica que todo funcione correctamente.

=== Comandos de verificaci√≥n

Ejecuta los siguientes comandos en tu terminal:

[source,bash,linenums]
----
rustc --version  # <1>
cargo --version  # <2>
rustup --version # <3>
----
<1> Verifica la versi√≥n del compilador de Rust
<2> Verifica la versi√≥n del gestor de paquetes
<3> Verifica la versi√≥n del instalador

=== Output esperado

Si la instalaci√≥n fue exitosa, ver√°s algo similar a:

.Versiones instaladas
[source,text]
----
rustc 1.89.0 (29483883e 2025-08-04)
cargo 1.89.0 (c24e10642 2025-06-23)
rustup 1.27.0 (2024-08-14)
----

[NOTE]
====
Las versiones exactas pueden variar dependiendo de:

* La fecha de instalaci√≥n
* El canal seleccionado (`stable`, `beta`, `nightly`)
* Actualizaciones pendientes
====

'''

== Gesti√≥n de Versiones con Rustup

=== Actualizar Rust

Para actualizar a la √∫ltima versi√≥n estable:

[source,bash]
----
rustup update
----

=== Cambiar entre canales

[source,bash]
----
rustup default stable   # Canal estable (recomendado)
rustup default beta     # Canal beta
rustup default nightly  # Canal nightly (experimental)
----

=== Instalar toolchains adicionales

[source,bash]
----
rustup toolchain install nightly
rustup target add wasm32-unknown-unknown  # Para WebAssembly
----

TIP: No necesitas instalar `nightly` a menos que uses caracter√≠sticas experimentales o herramientas espec√≠ficas que lo requieran.

'''

== Soluci√≥n de Problemas Comunes

=== Linux/macOS: "comando no encontrado"

Si despu√©s de instalar Rust sigues viendo `command not found`:

[source,bash]
----
# Verifica que $HOME/.cargo/bin est√© en tu PATH
echo $PATH | grep .cargo

# Si no aparece, a√±√°delo manualmente
echo 'export PATH="$HOME/.cargo/bin:$PATH"' >> ~/.bashrc
source ~/.bashrc
----

=== Windows: "rustc no se reconoce como comando"

. *Reinicia tu terminal*. Este es el problema m√°s com√∫n.
. Verifica que la instalaci√≥n se complet√≥ sin errores.
. Verifica manualmente que existe:
+
[source,powershell]
----
dir $env:USERPROFILE\.cargo\bin\rustc.exe
----

=== Error: "linker 'link.exe' not found" (Windows)

Este error significa que falta MSVC. Regresa al <<Paso 1: Instalar Visual Studio Build Tools>> y aseg√∫rate de instalar los componentes correctos.

'''

== Compilaci√≥n del Documento

Para generar este documento en diferentes formatos:

.Generar HTML
[source,bash]
----
asciidoctor instalacion.adoc
----

.Generar PDF (requiere asciidoctor-pdf)
[source,bash]
----
gem install asciidoctor-pdf
asciidoctor-pdf instalacion.adoc
----

.Resultado
----
instalacion.html    # Versi√≥n web
instalacion.pdf     # Versi√≥n para imprimir
----

'''

== Recursos Adicionales

* üìñ https://www.rust-lang.org/learn/get-started[Gu√≠a oficial de instalaci√≥n]
* üîß https://rust-lang.github.io/rustup/[Documentaci√≥n de Rustup]
* üí¨ https://users.rust-lang.org/[Foro de la comunidad Rust]
* ü¶Ä https://doc.rust-lang.org/book/[The Rust Programming Language Book]

'''

[quote, Rust Community]
____
¬°Bienvenido a Rust! ü¶Ä +
Ahora est√°s listo para comenzar tu viaje en uno de los lenguajes m√°s seguros y eficientes del mundo.
____

*Siguiente tema*: Hello World y estructura de un proyecto Rust ‚Üí
